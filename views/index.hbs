<!-- MD3 Top App Bar -->
<header class="md3-top-app-bar">
  <span class="material-symbols-outlined">download</span>
  <div class="md3-top-app-bar-title">网站下载器</div>
</header>

<!-- Main Content -->
<main class="container" style="flex: 1; padding: 24px 16px;">
  <!-- Hero Section -->
  <div class="text-center mb-24">
    <h1 class="headline-large" style="margin-bottom: 16px; color: var(--md-sys-color-on-surface);">
      Wget MD3 - 网站资源下载
    </h1>
    <p class="body-large" style="color: var(--md-sys-color-on-surface-variant); max-width: 600px; margin: 0 auto;">
      基于Material Design 3设计的现代化网站下载工具，支持完整资源抓取和文件合并
    </p>
  </div>

  <!-- Download Card -->
  <div class="md3-card md3-card-elevated p-24" style="max-width: 800px; margin: 0 auto;">
    <div class="flex flex-column gap-24">
      <!-- URL Input -->
      <div class="md3-text-field md3-text-field-outlined">
        <input type="url" id="website-url" placeholder="输入网站地址（如：https://example.com）" autocomplete="url" spellcheck="false">
      </div>

      <!-- Download Button -->
      <div class="flex justify-center">
        <button id="download-btn" class="md3-button md3-button-filled" style="min-width: 200px;">
          <span class="material-symbols-outlined" style="margin-right: 8px;">download</span>
          开始下载
        </button>
      </div>

      <!-- Advanced Options -->
  <div class="md3-card md3-card-outlined p-16" style="background-color: var(--md-sys-color-surface-container);">
    <h3 class="title-large mb-16" style="color: var(--md-sys-color-on-surface); text-align: center;">
      高级选项
    </h3>
        
        <!-- Merge Files Option -->
        <div class="flex align-center gap-16 mb-16">
          <div class="md3-checkbox">
            <input type="checkbox" id="merge-files" class="md3-checkbox-input" aria-describedby="merge-files-description">
            <div class="md3-checkbox-background">
              <span class="material-symbols-outlined md3-checkbox-icon" aria-hidden="true">
                check
              </span>
            </div>
          </div>
          <label for="merge-files" class="body-large" style="color: var(--md-sys-color-on-surface); cursor: pointer; flex: 1;">
            将所有文件合并为单个HTML文件
          </label>
        </div>
        
        <p id="merge-files-description" class="body-large" style="color: var(--md-sys-color-on-surface-variant); font-size: 12px; margin-top: 8px; margin-left: 36px;">
          启用此选项将把CSS、JavaScript和图片内嵌到HTML中，生成一个独立的HTML文件。不会压缩，直接下载单个HTML文件。
        </p>
      </div>

      <!-- Progress Section -->
      <div id="progress-container" style="display: none;">
        <div class="flex align-center gap-16 mb-16">
          <div class="md3-progress-linear" style="flex: 1;">
            <div id="progress-bar" class="md3-progress-linear-bar md3-progress-linear-indeterminate"></div>
          </div>
          <span class="material-symbols-outlined" style="animation: spin 2s linear infinite; color: var(--md-sys-color-primary);">
            sync
          </span>
        </div>
        <p id="status-text" class="body-large text-center" style="color: var(--md-sys-color-on-surface-variant);">
          正在下载网站内容...
        </p>
      </div>

      <!-- Files Count -->
      <div id="files-count-container" class="md3-card md3-card-outlined p-16" style="display: none;">
        <div class="flex align-center justify-center gap-16">
          <span class="material-symbols-outlined" style="color: var(--md-sys-color-primary);">
            description
          </span>
          <span class="title-large">
            已下载文件：<span id="files-count" style="color: var(--md-sys-color-primary); font-weight: 500;">0</span>
          </span>
        </div>
      </div>

      <!-- Download Result -->
      <div class="flex justify-center">
        <button id="download-result" class="md3-button md3-button-filled" style="display: none;">
          <span class="material-symbols-outlined" style="margin-right: 8px;">folder_zip</span>
          <span class="download-btn-text">下载 ZIP 文件</span>
        </button>
      </div>
    </div>
  </div>
  
  <!-- Log Section -->
  <div id="log-section" style="margin-top: 48px; max-width: 800px; margin-left: auto; margin-right: auto;">
    <div class="md3-card md3-card-outlined" style="min-height: 100px; max-height: 300px; overflow-y: auto;">
      <div class="p-16">
        <h3 class="title-large mb-16" style="color: var(--md-sys-color-on-surface);">下载日志</h3>
        <div id="log" style="font-family: 'Courier New', monospace; font-size: 14px; line-height: 1.4; color: var(--md-sys-color-on-surface-variant);">
          <div class="log-entry">等待开始下载...</div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Features Section -->
  <div style="margin-top: 48px;">
    <h2 class="title-large text-center mb-24" style="color: var(--md-sys-color-on-surface);">
      功能特色
    </h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px; max-width: 1000px; margin: 0 auto;">
      <div class="md3-card md3-card-outlined p-24">
        <div class="flex align-center gap-16 mb-16">
          <span class="material-symbols-outlined" style="color: var(--md-sys-color-primary); font-size: 32px;">
            cloud_download
          </span>
          <h3 class="title-large" style="color: var(--md-sys-color-on-surface);">完整下载</h3>
        </div>
        <p class="body-large" style="color: var(--md-sys-color-on-surface-variant);">
          递归下载网站的所有页面、图片、样式和脚本文件
        </p>
      </div>
      <div class="md3-card md3-card-outlined p-24">
        <div class="flex align-center gap-16 mb-16">
          <span class="material-symbols-outlined" style="color: var(--md-sys-color-primary); font-size: 32px;">
            link
          </span>
          <h3 class="title-large" style="color: var(--md-sys-color-on-surface);">链接转换</h3>
        </div>
        <p class="body-large" style="color: var(--md-sys-color-on-surface-variant);">
          自动将绝对链接转换为相对链接，支持离线浏览
        </p>
      </div>
      <div class="md3-card md3-card-outlined p-24">
        <div class="flex align-center gap-16 mb-16">
          <span class="material-symbols-outlined" style="color: var(--md-sys-color-primary); font-size: 32px;">
            folder_zip
          </span>
          <h3 class="title-large" style="color: var(--md-sys-color-on-surface);">压缩打包</h3>
        </div>
        <p class="body-large" style="color: var(--md-sys-color-on-surface-variant);">
          下载完成后自动打包为ZIP文件，方便保存和分享
        </p>
      </div>
    </div>
  </div>
</main>

<!-- Footer -->
<footer style="background-color: var(--md-sys-color-surface-container-low); padding: 24px 16px; margin-top: 48px;">
  <div class="container text-center">
    <div class="mb-16">
      <h3 class="title-large mb-16" style="color: var(--md-sys-color-on-surface);">友情链接</h3>
      <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 16px;">
        <a href="https://www.taocrypt.us.kg/" target="_blank" class="md3-button md3-button-text" style="text-decoration: none;">HomePage</a>      
        <a href="https://blog.taocrypt.ip-ddns.com/" target="_blank" class="md3-button md3-button-text" style="text-decoration: none;">TaocryptのBlog</a>
        <a href="https://blog.taocrypt.ip-ddns.com/article/wechat" target="_blank" class="md3-button md3-button-text" style="text-decoration: none;">03de自留地</a>       
      </div>
    </div>
    
    <div class="mb-16">
      <div class="md3-card md3-card-filled p-16" style="background-color: var(--md-sys-color-error-container); color: var(--md-sys-color-on-error-container); margin: 16px 0;">
        <p class="body-large">
          <strong>免责声明：</strong>本工具仅供学习和研究使用，请勿用于任何非法用途。下载的网站内容版权归原网站所有者所有。
        </p>
      </div>
    </div>
    
    <p class="body-large" style="color: var(--md-sys-color-on-surface-variant);">
      &copy; 2024 Wget MD3 - 基于 Material Design 3 设计
    </p>
    
    <!-- GitHub Star Button -->
    <div style="margin-top: 16px;">
      <a class="github-button" href="https://github.com/taocrypt/wget-md3" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star taocrypt/wget-md3 on GitHub">Star</a>
    </div>
  </div>
</footer>

<style>
/* Additional animations */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.log-entry {
  padding: 4px 0;
  border-bottom: 1px solid var(--md-sys-color-outline-variant);
}

.log-entry:last-child {
  border-bottom: none;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .headline-large {
    font-size: 28px !important;
    line-height: 36px !important;
  }
  
  .md3-card {
    margin: 0 8px;
  }
  
  .md3-button {
    min-width: auto;
    padding: 10px 16px;
  }
}
</style>